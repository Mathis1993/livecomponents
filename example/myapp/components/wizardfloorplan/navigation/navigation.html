{% load livecomponents %}
{% component_ancestor component_id "wizardfloorplan/root" as root_id %}

<div {% component_attrs component_id %}>
  <article class="card"
           style="padding: 0; margin: 0;">
    <nav style="display: flex; justify-content: center;">
      <ul style="display: flex; align-items: center; gap: 0.5rem; list-style: none; padding: 0; margin: 0;">
        {% for step_label in steps %}
          {% with step_num=forloop.counter %}
            <li style="display: flex; align-items: center;">
              {% if step == step_num %}
                <span style="font-weight: bold;">{{ step_label }}</span>
              {% elif step_num > highest_step_visited %}
                <span style="opacity: 0.6;">{{ step_label }}</span>
              {% else %}
                <a href="#"
                   hx-post="{% call_command root_id 'set_step' %}"
                   hx-vals='{"step": {{ step_num }}}'
                   style="color: var(--primary);">{{ step_label }}</a>
              {% endif %}
            </li>
            {% if not forloop.last %}
              <li style="display: flex; align-items: center;">
                <span style="margin: 0 0.25rem;">&gt;</span>
              </li>
            {% endif %}
          {% endwith %}
        {% endfor %}
      </ul>
    </nav>
  </article>
</div>
